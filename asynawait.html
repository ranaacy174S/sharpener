<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
   const posts=[
    {title:'post one', body:'this is post one'},
    {title:'post two', body:'this is post two'}
    
  ];

let post={title:'post three',body:'this is post three'};

const postsCreateDelete= async ()=>{
    const getPost= ()=>{
        let output='';
        setTimeout(() => {
            posts.forEach((postx)=>{
             output+=`<li>${postx.title}</li>`;
            })
            document.body.innerHTML=output;
        }, 1000);
    }
   
    const createPost= new Promise((resolve,reject)=>{
            setTimeout(() => {
                posts.push(post);
                const error=false;
    
                if(!error)
                resolve(posts)
                else
                reject('Error : something went wrong')
    
            }, 3000);
        })
         
 await createPost;
 const deletePost= new Promise((resolve,reject)=>{
         setTimeout(() => {
             let val=posts.pop();
      
             if(val!==undefined)
                resolve(posts)
             else
                reject('Error : Array is empty')
         }, 1000);
        })
        
        await deletePost;

 getPost();
   
        
}
postsCreateDelete();

    </script>
</body>
</html>